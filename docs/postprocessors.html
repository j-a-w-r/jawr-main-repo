<!DOCTYPE html>
<!--
 | Generated by Apache Maven Doxia at 2016-08-29 
 | Rendered using Apache Maven Fluido Skin 1.3.1
-->
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <meta name="Date-Revision-yyyymmdd" content="20160829" />
    <meta http-equiv="Content-Language" content="en" />
    <title>Jawr - Jawr Postprocessors</title>
    <link rel="stylesheet" href="../css/apache-maven-fluido-1.3.1.min.css" />
    <link rel="stylesheet" href="../css/site.css" />
    <link rel="stylesheet" href="../css/print.css" media="print" />

      
    <script type="text/javascript" src="../js/apache-maven-fluido-1.3.1.min.js"></script>

              
                  </head>
        <body class="topBarDisabled">
          
    
    
            
    
        
    <a href="http://github.com/j-a-w-r/jawr-main-repo">
      <img style="position: absolute; top: 0; right: 0; border: 0; z-index: 10000;"
        src="https://s3.amazonaws.com/github/ribbons/forkme_right_orange_ff7600.png"
        alt="Fork me on GitHub">
    </a>
  
                
                    
    
        <div class="container-fluid">
          <div id="banner">
        <div class="pull-left">
                                <div id="bannerLeft">
                <h2></h2>
                </div>
                      </div>
        <div class="pull-right">  </div>
        <div class="clear"><hr/></div>
      </div>

      <div id="breadcrumbs">
        <ul class="breadcrumb">
                
                    
                  <li id="publishDate">Last Published: 2016-08-29
                      <span class="divider">|</span>
                   </li>
                  <li id="projectVersion">Version: 3.9
                      </li>
                      
                
                    
      
                            </ul>
      </div>

            
      <div class="row-fluid">
        <div id="leftColumn" class="span3">
          <div class="well sidebar-nav">
                
                    
                <ul class="nav nav-list">
                    <li class="nav-header">About</li>
                              
      <li>
  
                          <a href="../index.html" title="Home">
          <i class="none"></i>
        Home</a>
            </li>
                
      <li>
  
                          <a href="../introduction.html" title="Introduction">
          <i class="none"></i>
        Introduction</a>
            </li>
                
      <li>
  
                          <a href="../features.html" title="Features">
          <i class="none"></i>
        Features</a>
            </li>
                
      <li>
  
                          <a href="../changes.html" title="Change history">
          <i class="none"></i>
        Change history</a>
            </li>
                
      <li>
  
                          <a href="../team.html" title="The team">
          <i class="none"></i>
        The team</a>
            </li>
                              <li class="nav-header">Documentation</li>
                              
      <li>
  
                          <a href="../docs/servlet.html" title="The Jawr servlet">
          <i class="none"></i>
        The Jawr servlet</a>
            </li>
                
      <li>
  
                          <a href="../docs/descriptor_syntax.html" title="Descriptor syntax">
          <i class="none"></i>
        Descriptor syntax</a>
            </li>
                
      <li>
  
                          <a href="../docs/custom_bundles.html" title="Bundle definition">
          <i class="none"></i>
        Bundle definition</a>
            </li>
                
      <li>
  
                          <a href="../docs/source_ordering.html" title="Source order in bundles">
          <i class="none"></i>
        Source order in bundles</a>
            </li>
                
      <li>
  
                          <a href="../docs/cacheManager.html" title="Cache manager">
          <i class="none"></i>
        Cache manager</a>
            </li>
                
      <li>
  
                          <a href="../docs/global_preprocessors.html" title="Global preprocessors">
          <i class="none"></i>
        Global preprocessors</a>
            </li>
                
      <li>
  
                          <a href="../docs/global_postprocessors.html" title="Global postprocessors">
          <i class="none"></i>
        Global postprocessors</a>
            </li>
                
      <li class="active">
  
            <a href="#"><i class="none"></i>Postprocessors</a>
          </li>
                
      <li>
  
                          <a href="../docs/generators.html" title="Generators">
          <i class="none"></i>
        Generators</a>
            </li>
                
      <li>
  
                          <a href="../docs/advanced_generators.html" title="Advanced generators">
          <i class="none"></i>
        Advanced generators</a>
            </li>
                
      <li>
  
                          <a href="../docs/license_files.html" title="Licenses in resources">
          <i class="none"></i>
        Licenses in resources</a>
            </li>
                
      <li>
  
                          <a href="../docs/taglibs.html" title="JSP Tag library">
          <i class="none"></i>
        JSP Tag library</a>
            </li>
                
      <li>
  
                          <a href="../docs/plain_html.html" title="Use in HTML pages">
          <i class="none"></i>
        Use in HTML pages</a>
            </li>
                
      <li>
  
                          <a href="../docs/modes.html" title="Debug and production modes">
          <i class="none"></i>
        Debug and production modes</a>
            </li>
                
      <li>
  
                          <a href="../docs/messages_gen.html" title="i18n message generator">
          <i class="none"></i>
        i18n message generator</a>
            </li>
                
      <li>
  
                          <a href="../docs/variant_bundle.html" title="Variant bundles">
          <i class="none"></i>
        Variant bundles</a>
            </li>
                
      <li>
  
                          <a href="../docs/illegalBundleRequestHander.html" title="Jawr strict mode - Illegal bundle request handler">
          <i class="none"></i>
        Jawr strict mode - Illegal bundle request handler</a>
            </li>
                
      <li>
  
                          <a href="../docs/jmx_support.html" title="JMX Support">
          <i class="none"></i>
        JMX Support</a>
            </li>
                
      <li>
  
                          <a href="../docs/bundle_preprocessing.html" title="Bundle preprocessing">
          <i class="none"></i>
        Bundle preprocessing</a>
            </li>
                
      <li>
  
                          <a href="../docs/jawr_maven_plugin.html" title="Jawr Maven plugin">
          <i class="none"></i>
        Jawr Maven plugin</a>
            </li>
                
      <li>
  
                          <a href="../docs/jawr_ant_task.html" title="Jawr Ant task">
          <i class="none"></i>
        Jawr Ant task</a>
            </li>
                
      <li>
  
                          <a href="../migrationGuide.html" title="Migration Guide">
          <i class="none"></i>
        Migration Guide</a>
            </li>
                
      <li>
  
                          <a href="../migrationGitRepo.html" title="Github repository Migration Guide">
          <i class="none"></i>
        Github repository Migration Guide</a>
            </li>
                              <li class="nav-header">Integration</li>
                              
      <li>
  
                          <a href="../integration/augmenter.html" title="Add Jawr to your framework">
          <i class="none"></i>
        Add Jawr to your framework</a>
            </li>
                
      <li>
  
                          <a href="../integration/spring.html" title="Spring MVC">
          <i class="none"></i>
        Spring MVC</a>
            </li>
                
      <li>
  
                          <a href="../integration/facelets.html" title="Facelets Tag library">
          <i class="none"></i>
        Facelets Tag library</a>
            </li>
                
      <li>
  
                          <a href="../integration/wicket.html" title="Wicket">
          <i class="none"></i>
        Wicket</a>
            </li>
                
      <li>
  
                          <a href="../integration/grails.html" title="Grails plugin">
          <i class="none"></i>
        Grails plugin</a>
            </li>
                
      <li>
  
                          <a href="../integration/dwr.html" title="DWR">
          <i class="none"></i>
        DWR</a>
            </li>
                
      <li>
  
                          <a href="../integration/validator.html" title="Commons Validator - Struts">
          <i class="none"></i>
        Commons Validator - Struts</a>
            </li>
                              <li class="nav-header">Tutorials</li>
                              
      <li>
  
                          <a href="../tutorials/quickstart.html" title="Quick start">
          <i class="none"></i>
        Quick start</a>
            </li>
                
      <li>
  
                          <a href="../tutorials/howToUseJawrSmartbundling.html" title="How to use Jawr smart bundling feature">
          <i class="none"></i>
        How to use Jawr smart bundling feature</a>
            </li>
                
      <li>
  
                          <a href="../tutorials/howToUseJawrToServeImage.html" title="How to use Jawr to serve image resources">
          <i class="none"></i>
        How to use Jawr to serve image resources</a>
            </li>
                
      <li>
  
                          <a href="../tutorials/howToUseJawrCssSkin.html" title="How to use Jawr to generate CSS skin">
          <i class="none"></i>
        How to use Jawr to generate CSS skin</a>
            </li>
                
      <li>
  
                          <a href="../tutorials/jawrSpriteImage.html" title="How to generate Image sprites with Jawr">
          <i class="none"></i>
        How to generate Image sprites with Jawr</a>
            </li>
                
      <li>
  
                          <a href="../tutorials/howToUseJawrToGenerateBase64Image.html" title="How to generate base64 images in CSS with Jawr">
          <i class="none"></i>
        How to generate base64 images in CSS with Jawr</a>
            </li>
                
      <li>
  
                          <a href="../tutorials/howToUseGoogleClosureCompiler.html" title="How to use Google Closure Compiler with Jawr">
          <i class="none"></i>
        How to use Google Closure Compiler with Jawr</a>
            </li>
                
      <li>
  
                          <a href="../tutorials/howToSetJsEngine.html" title="How to set Javascript engine in Jawr">
          <i class="none"></i>
        How to set Javascript engine in Jawr</a>
            </li>
                
      <li>
  
                          <a href="../tutorials/howToEnablePerformanceLogging.html" title="How to set performance logging in Jawr">
          <i class="none"></i>
        How to set performance logging in Jawr</a>
            </li>
                
      <li>
  
                          <a href="../tutorials/faq_howto.html" title="FAQ-Howto">
          <i class="none"></i>
        FAQ-Howto</a>
            </li>
                
      <li>
  
                          <a href="../tutorials/libraries.html" title="Using popular libraries">
          <i class="none"></i>
        Using popular libraries</a>
            </li>
                
      <li>
  
                          <a href="../docs/sampleApplications.html" title="Sample applications">
          <i class="none"></i>
        Sample applications</a>
            </li>
                              <li class="nav-header">API and sources</li>
                              
      <li>
  
                          <a href="../nonav/apidocs/index.html" title="JavaDocs">
          <i class="none"></i>
        JavaDocs</a>
            </li>
                
      <li>
  
                          <a href="../nonav/xref/index.html" title="Source XREF">
          <i class="none"></i>
        Source XREF</a>
            </li>
                              <li class="nav-header">Project tools</li>
                              
      <li>
  
                          <a href="https://jawr.java.net/" class="externalLink" title="Project home">
          <i class="none"></i>
        Project home</a>
            </li>
                
      <li>
  
                          <a href="../team.html" title="Membership">
          <i class="none"></i>
        Membership</a>
            </li>
                
      <li>
  
                          <a href="http://java.net/projects/jawr/forums/discussion-forum" class="externalLink" title="Discussion forums">
          <i class="none"></i>
        Discussion forums</a>
            </li>
                
      <li>
  
                          <a href="http://java.net/projects/jawr/lists" class="externalLink" title="Mailing lists">
          <i class="none"></i>
        Mailing lists</a>
            </li>
                
      <li>
  
                          <a href="http://java.net/projects/jawr/downloads/directory/release" class="externalLink" title="Documents & files">
          <i class="none"></i>
        Documents & files</a>
            </li>
                
      <li>
  
                          <a href="http://java.net/projects/jawr/sources" class="externalLink" title="Old Subversion Repository">
          <i class="none"></i>
        Old Subversion Repository</a>
            </li>
                
      <li>
  
                          <a href="http://java.net/jira/browse/JAWR" class="externalLink" title="Issue tracker">
          <i class="none"></i>
        Issue tracker</a>
            </li>
                              <li class="nav-header">Github repositories</li>
                              
      <li>
  
                          <a href="https://github.com/j-a-w-r/jawr-main-repo" class="externalLink" title="Jawr main repository">
          <i class="none"></i>
        Jawr main repository</a>
            </li>
                
      <li>
  
                          <a href="https://github.com/j-a-w-r/jawr-core" class="externalLink" title="Jawr core repository">
          <i class="none"></i>
        Jawr core repository</a>
            </li>
                
      <li>
  
                          <a href="https://github.com/j-a-w-r/jawr-spring" class="externalLink" title="Jawr spring repository">
          <i class="none"></i>
        Jawr spring repository</a>
            </li>
                
      <li>
  
                          <a href="https://github.com/j-a-w-r/jawr-wicket" class="externalLink" title="Jawr wicket repository">
          <i class="none"></i>
        Jawr wicket repository</a>
            </li>
                
      <li>
  
                          <a href="https://github.com/j-a-w-r/jawr-grails" class="externalLink" title="Jawr grails repository">
          <i class="none"></i>
        Jawr grails repository</a>
            </li>
                
      <li>
  
                          <a href="https://github.com/j-a-w-r/jawr-dwr2.x" class="externalLink" title="Jawr dwr2.x repository">
          <i class="none"></i>
        Jawr dwr2.x repository</a>
            </li>
                
      <li>
  
                          <a href="https://github.com/j-a-w-r/jawr-dwr3.x" class="externalLink" title="Jawr dwr3.x repository">
          <i class="none"></i>
        Jawr dwr3.x repository</a>
            </li>
                
      <li>
  
                          <a href="https://github.com/j-a-w-r/jawr-tools" class="externalLink" title="Jawr tools repository">
          <i class="none"></i>
        Jawr tools repository</a>
            </li>
            </ul>
                
                    
                
          <hr />

           <div id="poweredBy">
                            <div class="clear"></div>
                            <div class="clear"></div>
                            <div class="clear"></div>
                            <div class="clear"></div>
                             <a href="http://maven.apache.org/" title="Built by Maven" class="poweredBy">
        <img class="builtBy" alt="Built by Maven" src="../images/logos/maven-feather.png" />
      </a>
                  </div>
          </div>
        </div>
        
                
        <div id="bodyColumn"  class="span9" >
                                  
            <div class="section">
<h2>Jawr Postprocessors<a name="Jawr_Postprocessors"></a></h2>
<p>Postprocessors are filters that Jawr applies to resources and bundles during startup. These filters provide such things as minification (removal of unneeded whitespace and comments), URL rewriting, and the like. There are two types: file and bundle postprocessors. The file postprocessors are applied to resources before adding them to the bundle. On the other hand, bundle postprocessors are applied to a whole bundle once all the files have been joined into it. &#xa0;</p>
<p>Normally, you won&#x2019;t need to worry about postprocessors, since Jawr will use them automatically: javascript will be minified using JSMin, and the license comments (if any) will be added afterwards. CSS files will also be minified ,license comments will be added and their image URLs will be rewritten so they keep working from within a bundle. But there are countless combinations you can use, plus you may create and use your own postprocessors, so here is how to configure the filter chain applied to files and bundles.</p>
<p>For configuration purposes, every postprocessor has a unique name key, which you use in a comma-separated property in the descriptor, for instance:</p>

<div class="source">
<pre>        jawr.js.bundle.factory.bundlepostprocessors=JSMin,license

        jawr.css.bundle.factory.bundlepostprocessors=cssminify,license
        jawr.css.bundle.factory.filepostprocessors=csspathrewriter
</pre></div>
<p>As you see, we specify a couple of bundle postprocessors for both js and css resources, plus a file postprocessor for css files. We didn&#x2019;t specify any file postprocessor for javascript because, at the time of writing, there is none available yet. &#xa0; Note that the previous example configuration matches the default behavior of Jawr, so it actually makes no difference whether you include it in your descriptor or not. You would set these parameters only to change the default behavior, like for example, to remove minification:</p>

<div class="source">
<pre>        jawr.js.bundle.factory.bundlepostprocessors=license             
        jawr.css.bundle.factory.bundlepostprocessors=license
</pre></div>
<p>Optionally, you may specify a different set of postprocessors for any given bundle, so you can mix and match different schemes within your application. In order to do that, you specify similar attributes for a particular bundle:</p>

<div class="source">
<pre>        jawr.js.bundle.foo.bundlepostprocessors=license
        jawr.js.bundle.foo.fileprocessors=none
</pre></div>
<p>In this example, the bundle postprocessor for the <i>foo</i> bundle is set to <i>license</i>, meaning no minification will occur. And for the file-by-file postprocessor, it is specified that none will be used.</p>
<p>Jawr allows you to define the postprocessors for composite bundles. The format of the postprocessor properties is :</p>

<ul>
  
<li>jawr.<i>resourceType</i>.bundle.<i>bundleName</i>.composite.bundlepostprocessors</li>
  
<li>jawr.<i>resourceType</i>.bundle.<i>bundleName</i>.composite.filepostprocessors</li>
</ul>
<div class="section">
<h3>Custom postprocessors<a name="Custom_postprocessors"></a></h3>
<p>You can also implement your own postprocessor components (for js, css, or both) to perform any functionality not offered by the included ones. To do that, you must create a class with a no-params constructor that implements the interface <i>net.jawr.web.resource.bundle.postprocess.ResourceBundlePostProcessor</i>. This interface defines a single method:</p>

<div class="source">
<pre>        /**
         * Postprocess a bundle of resources. 
         * @param StringBuffer Joined resources. 
         * @return StringBuffer a buffer containing the postprocessed bundle. 
         */
        public StringBuffer postProcessBundle(BundleProcessingStatus status,StringBuffer bundleString);
</pre></div>
<p>The first parameter is an object which encapsulates the status of a bundling process and also gives you access to Jawr configuration plus other data which may be useful under certain circumstances. Most of the time, though, you won&#x2019;t need to use it at all.</p>
<p>The bundleString StringBuffer will contain different data depending on whether the postprocessor is used as a bundle postprocessor or a file postprocessor. In the first case, it will contain the text for the whole bundle, while in the latter case it will contain the text for just a single item in the bundle.</p>
<p>Finally, the return StringBuffer should contain the bundleString data after it is modified by the postprocessor. As an example, here is an implementation of a postprocessor which we would use to wrap all our scripts in a function that is immediately executed:</p>

<div class="source">
<pre>package net.jawr.test;
// [import statements...]

public class FunctionWrapperPostProcessor implements ResourceBundlePostProcessor {

        public StringBuffer postProcessBundle(BundleProcessingStatus status,StringBuffer bundleString) {
                StringBuffer ret = new StringBuffer();
                ret.append(&quot;function(){&quot;);
                ret.append(bundleString);
                ret.append(&quot;}()&quot;);
                return ret;
        }
}
</pre></div>
<p>To use this postprocessor with our application, we need to declare it in the properties configuration, by giving it a name and declaring the class so that Jawr may create an instance when starting up. The name you give to your postprocessor can then be used to define the bundlepostprocessors and filepostprocessors properties, thus allowing you to create a chain that combines your postprocessors with those of Jawr.</p>
<p>The name and class are defined by declaring a property in the form jawr.custom.postprocessors.[name].class=[class]. For example, the following configuration would add two custom postprocessors named <i>func</i> and <i>sample</i> and map them in different postprocessing chains:</p>

<div class="source">
<pre>jawr.custom.postprocessors.func.class=net.jawr.test.FunctionWrapperPostProcessor
jawr.custom.postprocessors.sample.class=net.jawr.test.SamplePostProcessor

jawr.js.bundle.factory.bundlepostprocessors=JSMin,func,sample,license
jawr.js.bundle.foo.bundlepostprocessors=license=func,license
</pre></div></div>
<div class="section">
<h3>Custom postprocessors for composite bundle<a name="Custom_postprocessors_for_composite_bundle"></a></h3>
<p>For a composite bundle, you can define the child bundle associated to it using the <b>child.names</b> property like follow.</p>

<div class="source">
<pre>jawr.css.bundle.myCompositeBundle.child.names=child_1,child_2
</pre></div>
<p>When you define a filepostprocessor on a composite bundle, this postprocessor will be applied on the child bundle content. The child bundle content will be treated as a single file. If you define a bundle postprocessor on a composite bundle, the postprocessor will be applied on the whole bundle.</p>
<p>To disable postprocessing on the composite bundle, you just need to configure you composite bundle as such :</p>

<div class="source">
<pre>jawr.css.bundle.myCompositeBundle.fileprocessors=none
jawr.css.bundle.myCompositeBundle.bundlepostprocessors=none
</pre></div></div>
<div class="section">
<h3>Jawr included postprocessors reference<a name="Jawr_included_postprocessors_reference"></a></h3>
<div class="section">
<h4>Css and Js common postprocessors<a name="Css_and_Js_common_postprocessors"></a></h4>
<div class="section">
<h5><a href=""><b>Licenses includer</b></a><a name="Licenses_includer"></a></h5>

<ul>
  
<li><b>Type</b>: Bundle</li>
  
<li><b>Properties Key</b>: license</li>
</ul>
<p>The licenses includer will add the content of .license files at the top of a bundle. That way you will be able to add open source mandatory licenses or any other comment to the top of your resources. Please check the <a href="./license_files.html">license files page</a> for more info.</p>
<hr />
<p>Note that licenses are themselves code comments, so you should be careful to always use this processor after any minification or compression processor has executed and not before. Otherwise, the license might be deleted from the bundle right after it was inserted.</p>
<hr /></div>
<div class="section">
<h5><a href=""><b>YUI compressor</b></a><a name="YUI_compressor"></a></h5>

<ul>
  
<li><b>Type</b>: Bundle</li>
  
<li><b>Properties Key</b>: YUI, YUIobf</li>
</ul>
<p>This processor uses <a class="externalLink" href="http://developer.yahoo.com/yui/compressor/">Julien Lecomte&#x2019;s YUI compressor</a>. This is a javascript and CSS minification tool that can also perform code obfuscation in the case of javascript bundles. If you want obfuscation, you should use the <b>YUIobf</b> key when defining postprocessors, but remember that this is only valid for javascript bundles. The YUI compressor has an advantage over JSMin and Jawr&#x2019;s custom CSS compressor in that it will achieve better minification (although in the case of CSS the difference is minimal). On the other hand it will add a dependency to the YUI compressor and Rhino libraries. You can get YUI <a class="externalLink" href="http://www.julienlecomte.net/yuicompressor/">here</a>, and rhino <a class="externalLink" href="http://www.mozilla.org/rhino/download.html">here</a>. Maven users can get both by adding a single dependency, like this:</p>

<div class="source">
<pre>        &lt;dependency&gt;
            &lt;groupId&gt;com.yahoo.platform.yui&lt;/groupId&gt;
            &lt;artifactId&gt;yuicompressor&lt;/artifactId&gt;
            &lt;version&gt;2.2.5&lt;/version&gt;
        &lt;/dependency&gt;
</pre></div>
<p>Unfortunately, this is the only way I know to get YUI from maven, and it is somewhat ugly since it will include both the YUI compressor and rhino, which might be problematic if you already have rhino on your server&#x2019;s classpath. YUI overwrites some of Rhino&#x2019;s classes also, so keep in mind that having another copy of Rhino.jar in your classpath might cause class loading issues.</p></div></div>
<div class="section">
<h4>Javascript-specific postprocessors<a name="Javascript-specific_postprocessors"></a></h4>
<div class="section">
<h5><a href=""><b>JSMin</b></a><a name="JSMin"></a></h5>

<ul>
  
<li><b>Type</b>: Bundle</li>
  
<li><b>Properties Key</b>: JSMin</li>
</ul>
<p>This processor uses <a class="externalLink" href="http://www.crockford.com/javascript/jsmin.html">Douglas Crockford&#x2019;s JSMin</a> minificator. It will remove any comments in code and unnecessary whitespace in a very safe manner.</p></div>
<div class="section">
<h5><a href=""><b>Uglify</b></a><a name="Uglify"></a></h5>

<ul>
  
<li><b>Type</b>: Bundle</li>
  
<li><b>Properties Key</b>: uglify</li>
</ul>
<p>This processor uses <a class="externalLink" href="https://github.com/mishoo/UglifyJS2">UglifyJS2</a> compressor. The built in version used is the version v2.4.15 The user is allowed to update the version used by specifying the directory where the Uglify JS sources will be find, by defining the property <b>jawr.js.postprocessor.uglify.script.location</b>. This postprocessor is based on javascript engine. The default JS engine used in Jawr is the Rhino javascript engine. You can also use Nashorn engine since Java 8. Please check <a href="../tutorial/howToSetJsEngine.html">the tutorial about the use of JS engine</a> for more info. To use the Rhino engine, you&#x2019;ll have to add it to your project classpath to be able to us this postprocessor. For maven user, you can add the following snippet configuration to your pom.xml :</p>

<div class="source">
<pre>                &lt;dependency&gt;
                        &lt;groupId&gt;org.mozilla&lt;/groupId&gt;
                        &lt;artifactId&gt;rhino&lt;/artifactId&gt;
                        &lt;version&gt;1.7R4&lt;/version&gt;
                &lt;/dependency&gt;
</pre></div>
<p>Here is the list of JS scripts that the processor will try to load from the web application or from the classpath.</p>

<ul>
  
<li>utils.js</li>
  
<li>ast.js</li>
  
<li>parse.js</li>
  
<li>transform.js</li>
  
<li>scope.js</li>
  
<li>output.js</li>
  
<li>compress.js</li>
  
<li>sourcemap.js</li>
</ul>
<p>The user can also define the compression options by using the <b>jawr.js.postprocessor.uglify.options</b> property. This property is a JSON containing the different options for compression, output format, &#x2026;</p>
<p>For more information about uglify options, please check the following links : <a class="externalLink" href="http://lisperator.net/uglifyjs/">UglifyJS2 site</a> and <a class="externalLink" href="https://github.com/mishoo/UglifyJS2">UglifyJS2 source repository</a></p>
<p>Here is an sample configuration where the script will be loaded from /js/uglify/ directory and with custom options :</p>

<div class="source">
<pre>        jawr.js.postprocessor.uglify.script.location=/js/uglify/
        jawr.js.bundle.factory.bundlepostprocessors=uglify
        # Use unsafe compression options and preserve comments containing @preserve keyword
        jawr.js.postprocessor.uglify.options={ compress : { unsafe : true}, output : { compress : /@preserve/ }}
</pre></div>

<ul>
  
<li><b>Configuration properties</b></li>
</ul>
<p>Jawr provides the following properties to configure the Uglify  postprocessor :</p>

<table border="0" class="table table-striped">
  <thead>
    
<tr class="a">
      
<th><b>Property name</b> </th>
      
<th><b>Type</b> </th>
      
<th><b>Purpose</b> </th>
      
<th><b>Default value</b> </th>
    </tr>
  </thead>
  <tbody>
    
<tr class="b">
      
<td>jawr.js.postprocessor.uglify.script.location </td>
      
<td>String </td>
      
<td>The uglify JS scripts location </td>
      
<td>/net/jawr/web/resource/bundle/postprocessor/js/uglify/ </td>
    </tr>
    
<tr class="a">
      
<td>jawr.js.postprocessor.uglify.options </td>
      
<td>String </td>
      
<td>The uglify options in JSON format </td>
      
<td>{} </td>
    </tr>
    
<tr class="b">
      
<td>jawr.js.postprocessor.uglify.js.engine </td>
      
<td>String </td>
      
<td>The JS engine to use for UglifyJS. </td>
      
<td>The value of the &#x2018;jawr.js.engine&#x2019; property </td>
    </tr>
  </tbody>
</table></div></div>
<div class="section">
<h4>CSS-specific postprocessors<a name="CSS-specific_postprocessors"></a></h4>
<div class="section">
<h5><a href=""><b>CSS Minificator</b></a><a name="CSS_Minificator"></a></h5>

<ul>
  
<li><b>Type</b>: Bundle</li>
  
<li><b>Properties Key</b>: cssminify</li>
</ul>
<p>This processor removes comments and unneeded whitespace using search and replace with regular expressions. It is on by default and is almost as efficient as the YUI compressor.</p>
<p>The user can define if the licence comment (/*! &#x2026; */) should be kept or not by using the following attribute <i>jawr.css.postprocessor.cssmin.keepLicence</i> in the configuration file.</p></div>
<div class="section">
<h5><a href=""><b>CSS combine Media</b></a><a name="CSS_combine_Media"></a></h5>

<ul>
  
<li><b>Type</b>: Bundle</li>
  
<li><b>Properties Key</b>: cssCombineMedia</li>
</ul>
<p>This processor will wrap the content of the bundle with the &#x201c;media&#x201d; value defined in the Jawr configuration file associated to this bundle.<br />Jawr will search for th value associated to : jawr.css.bundle.<b>bundleName</b>.media to find the media value to set. If no media value is found, Jawr will set the media to <b>screen</b>.</p>
<p>For example, if your bundle is define like this :</p>

<div class="source">
<pre>        jawr.css.bundle.combine_print.id=/bundles/combine_print.css
        jawr.css.bundle.combine_print.mappings=/resources/css/combine/print_1.css,/resources/css/combine/print_2.css
        jawr.css.bundle.combine_print.bundlepostprocessors=cssCombineMedia
        jawr.css.bundle.combine_print.media=print
</pre></div>
<p>The content of the bundle will be wrap around a media rule declaration set to &#x201c;print&#x201d;.</p>

<div class="source">
<pre>@media print {

        ... /* Content of the bundle goes here */
}        
</pre></div></div>
<div class="section">
<h5><a href=""><b>CSS Path rewriter</b></a><a name="CSS_Path_rewriter"></a></h5>

<ul>
  
<li><b>Type</b>: File</li>
  
<li><b>Properties Key</b>: csspathrewriter</li>
</ul>
<p>This processor rewrites relative paths in URLs for each file that is added to a bundle. A bundle will have a different URL to that of its contained resources, so in order for relative paths to image files and the like to keep working, URLs must be rewritten accordingly.</p></div>
<div class="section">
<h5><a href=""><b>CSS Import resolver</b></a><a name="CSS_Import_resolver"></a></h5>

<ul>
  
<li><b>Type</b>: File</li>
  
<li><b>Properties Key</b>: cssimport</li>
</ul>
<p>This processor imports the CSS resources referenced by <b>@import url(&#x2026;)</b> statement. These resources are included in the generated CSS bundle.</p></div>
<div class="section">
<h5><a href=""><b>CSS base64 postprocessor</b></a><a name="CSS_base64_postprocessor"></a></h5>

<ul>
  
<li><b>Type</b>: Bundle</li>
  
<li><b>Properties Key</b>: base64ImageEncoder</li>
</ul>
<p>This processor encodes the CSS images in base64 except for the images which has as annotation <b>/** jawr:base64-skip */</b> statement. This postprocessor should not be used with the <b>csspathrewriter</b>, because they are doing the same job rewriting the image URL.</p>
<p><b>WARNING :</b> It is also important to set the base64ImageEncoder not only as a <b>bundle post processor</b> but as a <b>file post processor</b> AND a <b>bundle post processor</b>, because this post processor needs to prepend the MHTML part to the bundle and also to rewrite the URL for each file.<br />So <b>never</b> use this post processor only as a bundle post processor or only as a file post processor.</p></div>
<div class="section">
<h5><a href=""><b>Autoprefixer postprocessor</b></a><a name="Autoprefixer_postprocessor"></a></h5>

<ul>
  
<li><b>Type</b>: Bundle,File</li>
  
<li><b>Properties Key</b>: autoprefixer</li>
</ul>
<p>This processor adds vendor prefix to CSS resources.<br />The user can define the autoprefixer options by using the <b>jawr.css.autoprefixer.options</b> property.<br />This processor is using a JS engine to perform the processing.<br />The user can define the JS engine to use by using the <b>jawr.css.autoprefixer.js.engine</b> property.<br />If not set the JS engine used will be the one associated to <b>jawr.js.engine</b>.</p>
<p><b>WARNING :</b> The current version of autoprefixer doesn&#x2019;t work with the Nashorn JS engine.</p>

<ul>
  
<li><b>Configuration properties</b></li>
</ul>
<p>Jawr provides the following properties to configure the Autoprefixer  postprocessor :</p>

<table border="0" class="table table-striped">
  <thead>
    
<tr class="a">
      
<th><b>Property name</b> </th>
      
<th><b>Type</b> </th>
      
<th><b>Purpose</b> </th>
      
<th><b>Default value</b> </th>
    </tr>
  </thead>
  <tbody>
    
<tr class="b">
      
<td>jawr.css.autoprefixer.script </td>
      
<td>String </td>
      
<td>The autoprefixer script location </td>
      
<td>/net/jawr/web/resource/bundle/postprocessor/css/autoprefixer/autoprefixer-5.2.1.js </td>
    </tr>
    
<tr class="a">
      
<td>jawr.css.autoprefixer.options </td>
      
<td>String </td>
      
<td>The autoprefixer options in JSON format </td>
      
<td>{} </td>
    </tr>
    
<tr class="b">
      
<td>jawr.css.autoprefixer.js.engine </td>
      
<td>String </td>
      
<td>The JS engine to use for Autoprefixer. </td>
      
<td>The value of the &#x2018;jawr.js.engine&#x2019; property </td>
    </tr>
  </tbody>
</table></div></div></div>
<div class="section">
<h3>User submitted postprocessors<a name="User_submitted_postprocessors"></a></h3>
<p>Some users are so kind as to submit their own custom postprocessors. If you have one that you think may be useful to others, please post it at the support forum and they will be shared among the Jawr community of users. To use any of these, download the source file and add it to your project source. Then declare the class and a mapping key as described at the <i>custom postprocessors</i> section above and you are ready to go. You can even go ahead and customize the class to suit your own needs.</p></div></div>
<div class="section">
<h2><b>Console Log Statement Remover</b><a name="Console_Log_Statement_Remover"></a></h2>

<ul>
  
<li><b>Submitted by</b>: Ryan Wilson (<a class="externalLink" href="http://blog.augmentedfragments.com">http://blog.augmentedfragments.com</a>)</li>
  
<li><b>Source</b>: <a href="../java/ConsolePostProcessor.java">ConsolePostProcessor.java</a></li>
  
<li><b>Type</b>: Bundle</li>
</ul>
<p>This postprocessor uses a regular expression to find and remove all the statements that write to the Firebug/Safari console. Specifically, it removes statements with the form <i>window.console.log([&#x2026;])</i>. If you use a different form you can change the regular expression in the source file.</p>
<p>Thanks to Ryan Wilson for posting this work.</p></div>
                  </div>
            </div>
          </div>

    <hr/>

    <footer>
            <div class="container-fluid">
                      <div class="row-fluid">
                              <p >Copyright &copy;                   2016.
          All rights reserved.      
                    
      </p>
        </div>

        
        
                </div>
    </footer>
        </body>
</html>
