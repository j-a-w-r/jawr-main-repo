<!DOCTYPE html>
<!--
 | Generated by Apache Maven Doxia at 2016-08-27 
 | Rendered using Apache Maven Fluido Skin 1.3.1
-->
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <meta name="Date-Revision-yyyymmdd" content="20160827" />
    <meta http-equiv="Content-Language" content="en" />
    <title>Jawr - Using popular open source libraries with Jawr</title>
    <link rel="stylesheet" href="../css/apache-maven-fluido-1.3.1.min.css" />
    <link rel="stylesheet" href="../css/site.css" />
    <link rel="stylesheet" href="../css/print.css" media="print" />

      
    <script type="text/javascript" src="../js/apache-maven-fluido-1.3.1.min.js"></script>

              
                  </head>
        <body class="topBarDisabled">
          
    
    
            
    
        
    <a href="http://github.com/ic3fox/jawr-main-repo">
      <img style="position: absolute; top: 0; right: 0; border: 0; z-index: 10000;"
        src="https://s3.amazonaws.com/github/ribbons/forkme_right_orange_ff7600.png"
        alt="Fork me on GitHub">
    </a>
  
                
                    
    
        <div class="container-fluid">
          <div id="banner">
        <div class="pull-left">
                                <div id="bannerLeft">
                <h2></h2>
                </div>
                      </div>
        <div class="pull-right">  </div>
        <div class="clear"><hr/></div>
      </div>

      <div id="breadcrumbs">
        <ul class="breadcrumb">
                
                    
                  <li id="publishDate">Last Published: 2016-08-27
                      <span class="divider">|</span>
                   </li>
                  <li id="projectVersion">Version: 3.10-SNAPSHOT
                      </li>
                      
                
                    
      
                            </ul>
      </div>

            
      <div class="row-fluid">
        <div id="leftColumn" class="span3">
          <div class="well sidebar-nav">
                
                    
                <ul class="nav nav-list">
                    <li class="nav-header">About</li>
                              
      <li>
  
                          <a href="../index.html" title="Home">
          <i class="none"></i>
        Home</a>
            </li>
                
      <li>
  
                          <a href="../introduction.html" title="Introduction">
          <i class="none"></i>
        Introduction</a>
            </li>
                
      <li>
  
                          <a href="../features.html" title="Features">
          <i class="none"></i>
        Features</a>
            </li>
                
      <li>
  
                          <a href="../changes.html" title="Change history">
          <i class="none"></i>
        Change history</a>
            </li>
                
      <li>
  
                          <a href="../team.html" title="The team">
          <i class="none"></i>
        The team</a>
            </li>
                              <li class="nav-header">Documentation</li>
                              
      <li>
  
                          <a href="../docs/servlet.html" title="The Jawr servlet">
          <i class="none"></i>
        The Jawr servlet</a>
            </li>
                
      <li>
  
                          <a href="../docs/descriptor_syntax.html" title="Descriptor syntax">
          <i class="none"></i>
        Descriptor syntax</a>
            </li>
                
      <li>
  
                          <a href="../docs/custom_bundles.html" title="Bundle definition">
          <i class="none"></i>
        Bundle definition</a>
            </li>
                
      <li>
  
                          <a href="../docs/source_ordering.html" title="Source order in bundles">
          <i class="none"></i>
        Source order in bundles</a>
            </li>
                
      <li>
  
                          <a href="../docs/cacheManager.html" title="Cache manager">
          <i class="none"></i>
        Cache manager</a>
            </li>
                
      <li>
  
                          <a href="../docs/global_preprocessors.html" title="Global preprocessors">
          <i class="none"></i>
        Global preprocessors</a>
            </li>
                
      <li>
  
                          <a href="../docs/global_postprocessors.html" title="Global postprocessors">
          <i class="none"></i>
        Global postprocessors</a>
            </li>
                
      <li>
  
                          <a href="../docs/postprocessors.html" title="Postprocessors">
          <i class="none"></i>
        Postprocessors</a>
            </li>
                
      <li>
  
                          <a href="../docs/generators.html" title="Generators">
          <i class="none"></i>
        Generators</a>
            </li>
                
      <li>
  
                          <a href="../docs/advanced_generators.html" title="Advanced generators">
          <i class="none"></i>
        Advanced generators</a>
            </li>
                
      <li>
  
                          <a href="../docs/license_files.html" title="Licenses in resources">
          <i class="none"></i>
        Licenses in resources</a>
            </li>
                
      <li>
  
                          <a href="../docs/taglibs.html" title="JSP Tag library">
          <i class="none"></i>
        JSP Tag library</a>
            </li>
                
      <li>
  
                          <a href="../docs/plain_html.html" title="Use in HTML pages">
          <i class="none"></i>
        Use in HTML pages</a>
            </li>
                
      <li>
  
                          <a href="../docs/modes.html" title="Debug and production modes">
          <i class="none"></i>
        Debug and production modes</a>
            </li>
                
      <li>
  
                          <a href="../docs/messages_gen.html" title="i18n message generator">
          <i class="none"></i>
        i18n message generator</a>
            </li>
                
      <li>
  
                          <a href="../docs/variant_bundle.html" title="Variant bundles">
          <i class="none"></i>
        Variant bundles</a>
            </li>
                
      <li>
  
                          <a href="../docs/illegalBundleRequestHander.html" title="Jawr strict mode - Illegal bundle request handler">
          <i class="none"></i>
        Jawr strict mode - Illegal bundle request handler</a>
            </li>
                
      <li>
  
                          <a href="../docs/jmx_support.html" title="JMX Support">
          <i class="none"></i>
        JMX Support</a>
            </li>
                
      <li>
  
                          <a href="../docs/bundle_preprocessing.html" title="Bundle preprocessing">
          <i class="none"></i>
        Bundle preprocessing</a>
            </li>
                
      <li>
  
                          <a href="../docs/jawr_maven_plugin.html" title="Jawr Maven plugin">
          <i class="none"></i>
        Jawr Maven plugin</a>
            </li>
                
      <li>
  
                          <a href="../docs/jawr_ant_task.html" title="Jawr Ant task">
          <i class="none"></i>
        Jawr Ant task</a>
            </li>
                
      <li>
  
                          <a href="../migrationGuide.html" title="Migration Guide">
          <i class="none"></i>
        Migration Guide</a>
            </li>
                              <li class="nav-header">Integration</li>
                              
      <li>
  
                          <a href="../integration/augmenter.html" title="Add Jawr to your framework">
          <i class="none"></i>
        Add Jawr to your framework</a>
            </li>
                
      <li>
  
                          <a href="../integration/spring.html" title="Spring MVC">
          <i class="none"></i>
        Spring MVC</a>
            </li>
                
      <li>
  
                          <a href="../integration/facelets.html" title="Facelets Tag library">
          <i class="none"></i>
        Facelets Tag library</a>
            </li>
                
      <li>
  
                          <a href="../integration/wicket.html" title="Wicket">
          <i class="none"></i>
        Wicket</a>
            </li>
                
      <li>
  
                          <a href="../integration/grails.html" title="Grails plugin">
          <i class="none"></i>
        Grails plugin</a>
            </li>
                
      <li>
  
                          <a href="../integration/dwr.html" title="DWR">
          <i class="none"></i>
        DWR</a>
            </li>
                
      <li>
  
                          <a href="../integration/validator.html" title="Commons Validator - Struts">
          <i class="none"></i>
        Commons Validator - Struts</a>
            </li>
                              <li class="nav-header">Tutorials</li>
                              
      <li>
  
                          <a href="../tutorials/quickstart.html" title="Quick start">
          <i class="none"></i>
        Quick start</a>
            </li>
                
      <li>
  
                          <a href="../tutorials/howToUseJawrSmartbundling.html" title="How to use Jawr smart bundling feature">
          <i class="none"></i>
        How to use Jawr smart bundling feature</a>
            </li>
                
      <li>
  
                          <a href="../tutorials/howToUseJawrToServeImage.html" title="How to use Jawr to serve image resources">
          <i class="none"></i>
        How to use Jawr to serve image resources</a>
            </li>
                
      <li>
  
                          <a href="../tutorials/howToUseJawrCssSkin.html" title="How to use Jawr to generate CSS skin">
          <i class="none"></i>
        How to use Jawr to generate CSS skin</a>
            </li>
                
      <li>
  
                          <a href="../tutorials/jawrSpriteImage.html" title="How to generate Image sprites with Jawr">
          <i class="none"></i>
        How to generate Image sprites with Jawr</a>
            </li>
                
      <li>
  
                          <a href="../tutorials/howToUseJawrToGenerateBase64Image.html" title="How to generate base64 images in CSS with Jawr">
          <i class="none"></i>
        How to generate base64 images in CSS with Jawr</a>
            </li>
                
      <li>
  
                          <a href="../tutorials/howToUseGoogleClosureCompiler.html" title="How to use Google Closure Compiler with Jawr">
          <i class="none"></i>
        How to use Google Closure Compiler with Jawr</a>
            </li>
                
      <li>
  
                          <a href="../tutorials/howToSetJsEngine.html" title="How to set Javascript engine in Jawr">
          <i class="none"></i>
        How to set Javascript engine in Jawr</a>
            </li>
                
      <li>
  
                          <a href="../tutorials/howToEnablePerformanceLogging.html" title="How to set performance logging in Jawr">
          <i class="none"></i>
        How to set performance logging in Jawr</a>
            </li>
                
      <li>
  
                          <a href="../tutorials/faq_howto.html" title="FAQ-Howto">
          <i class="none"></i>
        FAQ-Howto</a>
            </li>
                
      <li class="active">
  
            <a href="#"><i class="none"></i>Using popular libraries</a>
          </li>
                
      <li>
  
                          <a href="../docs/sampleApplications.html" title="Sample applications">
          <i class="none"></i>
        Sample applications</a>
            </li>
                              <li class="nav-header">API and sources</li>
                              
      <li>
  
                          <a href="../nonav/apidocs/index.html" title="JavaDocs">
          <i class="none"></i>
        JavaDocs</a>
            </li>
                
      <li>
  
                          <a href="../nonav/xref/index.html" title="Source XREF">
          <i class="none"></i>
        Source XREF</a>
            </li>
                              <li class="nav-header">Project tools</li>
                              
      <li>
  
                          <a href="https://jawr.java.net/" class="externalLink" title="Project home">
          <i class="none"></i>
        Project home</a>
            </li>
                
      <li>
  
                          <a href="../team.html" title="Membership">
          <i class="none"></i>
        Membership</a>
            </li>
                
      <li>
  
                          <a href="http://java.net/projects/jawr/forums/discussion-forum" class="externalLink" title="Discussion forums">
          <i class="none"></i>
        Discussion forums</a>
            </li>
                
      <li>
  
                          <a href="http://java.net/projects/jawr/lists" class="externalLink" title="Mailing lists">
          <i class="none"></i>
        Mailing lists</a>
            </li>
                
      <li>
  
                          <a href="http://java.net/projects/jawr/downloads/directory/release" class="externalLink" title="Documents & files">
          <i class="none"></i>
        Documents & files</a>
            </li>
                
      <li>
  
                          <a href="http://java.net/projects/jawr/sources" class="externalLink" title="Old Subversion Repository">
          <i class="none"></i>
        Old Subversion Repository</a>
            </li>
                
      <li>
  
                          <a href="http://java.net/jira/browse/JAWR" class="externalLink" title="Issue tracker">
          <i class="none"></i>
        Issue tracker</a>
            </li>
                              <li class="nav-header">Github repositories</li>
                              
      <li>
  
                          <a href="https://github.com/ic3fox/jawr-main-repo" class="externalLink" title="Jawr main repository">
          <i class="none"></i>
        Jawr main repository</a>
            </li>
                
      <li>
  
                          <a href="https://github.com/ic3fox/jawr-core" class="externalLink" title="Jawr core repository">
          <i class="none"></i>
        Jawr core repository</a>
            </li>
                
      <li>
  
                          <a href="https://github.com/ic3fox/jawr-spring" class="externalLink" title="Jawr spring repository">
          <i class="none"></i>
        Jawr spring repository</a>
            </li>
                
      <li>
  
                          <a href="https://github.com/ic3fox/jawr-wicket" class="externalLink" title="Jawr wicket repository">
          <i class="none"></i>
        Jawr wicket repository</a>
            </li>
                
      <li>
  
                          <a href="https://github.com/ic3fox/jawr-grails" class="externalLink" title="Jawr grails repository">
          <i class="none"></i>
        Jawr grails repository</a>
            </li>
                
      <li>
  
                          <a href="https://github.com/ic3fox/jawr-dwr2.x" class="externalLink" title="Jawr dwr2.x repository">
          <i class="none"></i>
        Jawr dwr2.x repository</a>
            </li>
                
      <li>
  
                          <a href="https://github.com/ic3fox/jawr-dwr3.x" class="externalLink" title="Jawr dwr3.x repository">
          <i class="none"></i>
        Jawr dwr3.x repository</a>
            </li>
                
      <li>
  
                          <a href="https://github.com/ic3fox/jawr-tools" class="externalLink" title="Jawr tools repository">
          <i class="none"></i>
        Jawr tools repository</a>
            </li>
            </ul>
                
                    
                
          <hr />

           <div id="poweredBy">
                            <div class="clear"></div>
                            <div class="clear"></div>
                            <div class="clear"></div>
                            <div class="clear"></div>
                             <a href="http://maven.apache.org/" title="Built by Maven" class="poweredBy">
        <img class="builtBy" alt="Built by Maven" src="../images/logos/maven-feather.png" />
      </a>
                  </div>
          </div>
        </div>
        
                
        <div id="bodyColumn"  class="span9" >
                                  
            <div class="section">
<h2>Using popular open source libraries with Jawr<a name="Using_popular_open_source_libraries_with_Jawr"></a></h2>
<p>This guide will give you basic guidelines and hint to use popular javascript libraries in your web applications, taking full advantage of Jawr. Note that there is no attempt at documenting how any of these libraries work. Please refer to the official documentation of each library for that. &#xa0; All the tutorials assume you have successfully installed Jawr in your web application. If you haven&#x2019;t refer to the manual for installation. &#xa0;</p>
<div class="section">
<h3>jQuery<a name="jQuery"></a></h3>
<p>From the jQuery site:</p>

<div class="source">
<pre>        jQuery is a fast, concise, JavaScript Library that simplifies how you traverse HTML documents, 
        handle events, perform animations, and add Ajax interactions to your web pages. 
        jQuery is designed to change the way that you write JavaScript.
</pre></div>
<p>To use jQuery within a Jawr enabled web application, we would start off by <a class="externalLink" href="http://jquery.com/">downloading the jQuery distribution</a>. There are several download options: gzipped, packed (minified) and regular. Since Jawr supports serving both gzipped and non-gzipped versions of the same resource, we will use the &#x2018;packed&#x2019; version. Download it, create a directory named /js/lib at the root of the web application and place the file there.</p>
<p>During the tests, I experienced some problems when bundling the minified jquery with other scripts. These are easily solved by adding a semicolon (;) at the end of the jQuery packed file. Do add the semicolon or you will get errors in Firefox and possibly in other browsers.</p>
<p>When using jQuery it is likely that you will eventually use some of the many plugins available for it. In this case we will setup the jQuery date picker plugin, which you can download from <a class="externalLink" href="http://kelvinluck.com/assets/jquery/datePicker/v2/demo/">this page</a>. You will need to download three files from there: jquery.datePicker.js, datePicker.css and from the requirements section, date.js. from there: Once you have them, create a directory named /js/lib/plugins and place the two scripts there (not the css). Create a .license file in this directory and copy and paste the licenses at the top of the scripts, so once minified they will get the licenses appended back in. Finally, create a file named .sorting and simply write &#x2018;date.js&#x2019; (without the quotes) in it. Finally, create a dir named /css and place the css file there.</p>
<p>Using the date picker plugin yields an interesting problem for Jawr to solve: we have the minified version of jQuery and, on the other hand, we have the date picker component, and the associated date.js library, for which there are no minified versions available. We intend to bundle all together but we face the problem that we don&#x2019;t want to run the minifier on jQuery but we do want to minify the date picker component. To achieve this we will use a composite bundle made up of one non minified bundle with jQuery and a minified plugins bundle:</p>

<div class="source">
<pre># Our composite bundle
jawr.js.bundle.lib.id=/bundles/lib.js
jawr.js.bundle.lib.global=true
jawr.js.bundle.lib.composite=true
# We specify the members of the bundle
jawr.js.bundle.lib.child.names=jquery, jqueryplugins

# This mapping is non recurring, so subdirs are not included
jawr.js.bundle.jquery.mappings=/js/lib/
# No minification for the jQuery bundle
jawr.js.bundle.jquery.bundlepostprocessors=none

# Plugins bundle, will be minified
jawr.js.bundle.jqueryplugins.mappings=/js/lib/plugins/**

# An 'all in one' css bundle

jawr.css.bundle.all.id=/bundles/all.css
jawr.css.bundle.all.mappings=/css/**
</pre></div>
<p>In the event that you had other plugins did have minified versions available, it would be easy to add a third bundle to the composite, or simply to add more mappings to the jQuery bundle. The point is that all your libraries are served as a single, minified and potentially gzipped file.</p>
<p>The basic setup is finished, so now let&#x2019;s test it. To do that, create a javascript file at /js/index.js, with the following code:</p>

<div class="source">
<pre>$(function()
{
        $('.date-pick').datePicker();
});
</pre></div>
<p>This will setup the date picker for any input with a class of date-pick, and will require all the scripts you downloaded to work properly.</p>
<p>Finally, add an index.jsp test page with this contents:</p>

<div class="source">
<pre>&lt;%@ taglib uri=&quot;http://jawr.net/tags&quot; prefix=&quot;jwr&quot; %&gt;
&lt;%@ page contentType=&quot;text/html;charset=UTF-8&quot; %&gt;
&lt;html&gt;
&lt;head&gt;
&lt;jwr:style src=&quot;/bundles/all.css&quot; /&gt;
&lt;jwr:script src=&quot;/js/index.js&quot;/&gt; 
&lt;/head&gt;
&lt;body&gt;
        &lt;input name=&quot;date1&quot; id=&quot;date1&quot; class=&quot;date-pick&quot; /&gt;
&lt;/body&gt;
&lt;/html&gt;
</pre></div>
<p>Now deploy the application and open the index.jsp page. You should see a link by the input. If you click on it, a calendar widget should popup. Check the script that the page imports: it should contain the jquery library plus the date and date picker code minified.</p></div>
<div class="section">
<h3>Prototype.js and script.aculo.us<a name="Prototype.js_and_script.aculo.us"></a></h3>
<p>From their respective websites:</p>

<div class="source">
<pre>        Prototype is a JavaScript Framework that aims to ease development of dynamic web applications. 

        script.aculo.us provides you with easy-to-use, cross-browser user interface JavaScript libraries 
        to make your web sites and web applications fly
</pre></div>
<p>Prototype and script.aculo.us are popular javascript tools, and it is easy to integrate them in a Jawr-enabled application. The first step would be to <a class="externalLink" href="http://script.aculo.us/downloads">download the script.aculo.us distribution</a> which already includes the prototype library.</p>
<p>Create a /js/lib directory at the root of your web application and copy prototype.js there. Prototype must be loaded first in order for script.aculo.us to work, so what we will do is to create a subdirectory (/js/lib/scriptaculous for instance) and put there the script.aculo.us. files. Using a recurring mapping we make sure this way that prototype goes first. Note that for this example we are including every one of the script.aculo.us components, but keep in mind that in a real application you would only add the ones you were going to use.</p>
<p>There is one problem about using script.aculo.us with Jawr. Script.aculo.us expects you to load only one of the scripts of its distribution, namely scriptaculous.js. This file contains a javascript module which inserts script tags in your document to import all the other files. This is not needed when using Jawr, since all the files are bundled together as a single resource. Therefore we need to disable this behavior.</p>
<p>The quickest way to accomplish that is to open scriptaculous.js and remove the last line in this file, which should read as follows:</p>

<div class="source">
<pre>        Scriptaculous.load();
</pre></div>
<p>There are possibly better ways to accomplish this but this one is the fastest to implement and will do the trick.</p>
<p>Another thing to keep in mind is that the effects.js file must be loaded before the others, so we will create a .sorting file at /js/lib/scriptaculous, with the following content:</p>

<div class="source">
<pre>        effects.js
</pre></div>
<p>Now we need to create a license file with the copyright information. Since these libraries are being minified, all comments are removed but we are required to include the copyright notice in our bundle. To solve this, create a file named <i>.license</i> at /js/lib/. Now open prototype.js and copy and paste the copyright notice to the license file. Do the same with the scriptaculous.js. You should end up with a .license file containing this text:</p>

<div class="source">
<pre>/*  Prototype JavaScript framework, version 1.6.0
 *  (c) 2005-2007 Sam Stephenson
 *
 *  Prototype is freely distributable under the terms of an MIT-style license.
 *  For details, see the Prototype web site: http://www.prototypejs.org/
 *
 *--------------------------------------------------------------------------*/
// script.aculo.us scriptaculous.js v1.8.0, Tue Nov 06 15:01:40 +0300 2007

// Copyright (c) 2005-2007 Thomas Fuchs (http://script.aculo.us, http://mir.aculo.us)
// 
// Permission is hereby granted, free of charge, to any person obtaining
// a copy of this software and associated documentation files (the
// &quot;Software&quot;), to deal in the Software without restriction, including
// without limitation the rights to use, copy, modify, merge, publish,
// distribute, sublicense, and/or sell copies of the Software, and to
// permit persons to whom the Software is furnished to do so, subject to
// the following conditions:
// 
// The above copyright notice and this permission notice shall be
// included in all copies or substantial portions of the Software.
//
// THE SOFTWARE IS PROVIDED &quot;AS IS&quot;, WITHOUT WARRANTY OF ANY KIND,
// EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF
// MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND
// NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE
// LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION
// OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION
// WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.
//
// For details, see the script.aculo.us web site: http://script.aculo.us/
</pre></div>
<p>Note that these notices may change over time, so don&#x2019;t copy and paste from this page, use the licenses in the scripts instead.</p>
<p>Now the last thing you need to have everything set up is to add a mapping to the Jawr configuration file. It would go like this:</p>

<div class="source">
<pre>jawr.js.bundle.lib.id=/bundles/lib.js
jawr.js.bundle.lib.global=true
jawr.js.bundle.lib.mappings=/js/lib/**
</pre></div>
<p>With this mapping, the bundle with an id of /bundles/lib.js will contain prototype and all the script.aculo.us files, all minified and with the appropriate licensing info at the top. For a gzip enabled client, the download will be of approximately 50KB, and for a non-gzip enabled client the size would be at around 182KB. In your project, the files comprising the bundle will be at around 262KB. This means you can get up to a 5-1 compression ratio using Jawr.</p>
<p>To test the setup, we will create a simple script that uses script.aculo.us and prototype, and a test JSP page to see it in action. First create js file named index.js at the /js/ directory. Copy the following code into it:</p>

<div class="source">
<pre>function attachFadeOutBehavior() {
        Event.observe($('fadeOut'),'click',function(){new Effect.SwitchOff($('fadeOut'))});
}

Event.observe(window, 'load', attachFadeOutBehavior);
</pre></div>
<p>This code uses prototype to hook up a couple of event listeners which fire a script.aculo.us effect when you click on an element in the page. Create an index.jsp page at the root of you application, and copy the following code there:</p>

<div class="source">
<pre>&lt;%@ taglib uri=&quot;http://jawr.net/tags&quot; prefix=&quot;jwr&quot; %&gt;
&lt;%@ page contentType=&quot;text/html;charset=UTF-8&quot; %&gt;
&lt;html&gt;
&lt;head&gt;
&lt;jwr:script src=&quot;/js/index.js&quot;/&gt; 
&lt;/head&gt;
&lt;body&gt;
        &lt;div id=&quot;fadeOut&quot;&gt;
                If everything is setup correctly, this will disappear when you click on it. 
        &lt;/div&gt;  
&lt;/body&gt;
&lt;/html&gt;
</pre></div>
<p>When you open the page in your browser, you should be able to make the text disappear by clicking on it. You will then be ready to use Prototype and script.aculo.us in your Jawr enabled application.</p></div>
<div class="section">
<h3>Yahoo! UI library<a name="Yahoo_UI_library"></a></h3>
<p>YUI is a collection of javascript and CSS files that help in building rich web applications. You can download it from <a class="externalLink" href="http://developer.yahoo.com/yui/">http://developer.yahoo.com/yui/</a>. &#xa0;</p>
<p>The YUI distribution brings a huge collection of .js files, some of them with related .css stylesheets. Normally you will not use every one of them, so you must pick whichever you want to use and include them in your application. &#xa0;</p>
<p>Once you download and decompress the YUI distribution, you will find all the scripts under a dir named &#x2018;build&#x2019;. There is one directory for each component, plus an assets directory with required CSS and image files. Note that all files come in UTF-8 encoding, so you may want to use that as Jawr encoding, or otherwise convert all files to whichever encoding you want to use. &#xa0;</p>
<p>Within each script directory, javascript files come in three flavors: a normal, uncompressed version, another one targeted at debugging which writes to a console component, and a minified version. As we will see, having a debug version plays well with the debug-only bundles feature in Jawr. Many components depend on others to be loaded in order to work, you will need to check the documentation to find out about this dependencies. &#xa0;</p>
<p>For the example we will use the modules that make up for the YUI Panel component. The required scripts are the following:</p>

<ul>
  
<li>yahoo</li>
  
<li>event</li>
  
<li>dom</li>
  
<li>dragdrop</li>
  
<li>container</li>
  
<li>element</li>
  
<li>button</li>
</ul>
<p>All these can be found at the build/ folder of the YUI distribution, each one in a folder by the same name. Each folder contains the three flavors of the script (some may include more than one script file). &#xa0;</p>
<p>Since we have debug versions of the scripts, we will create two bundles, one for development mode and another for regular use. This way, when we use the development mode of Jawr, we will get a console where all components will write log messages to. Of course, you can skip the debug bundle if you don&#x2019;t need it. &#xa0;</p>
<p>In the root dir of our application, create two folders: <b>/js/yui</b> and <b>js/yui_debug</b>. For the resources, create a <b>css/</b> directory. Now follow this steps:</p>

<ul>
  
<li>From each directory of the list above, copy the scripts which have names ending with -min to the <b>/js/yui</b> folder. If you choose to use more widgets from YUI, you will simply add them this directory. These are minified versions of the YUI libraries, and likely will be smaller than if you used Jawr to do the minification (at least for as long as Jawr does not support the YUI compressor). However, there is one thing you can do to optimize the size even further. Every file will contain the copyright license, which will add unneeded weight to the bundle (there is no point to repeat the same copypright notice n times in the same script). Thus, remove the copyright notice from these files.</li>
  
<li>From each directory of the list above, copy the debug scripts(those whose end with -debug) to the <b>/js/yui_debug</b> folder.</li>
  
<li>Copy the build/logger dir to the <b>/js/yui_debug</b> dir in your app.</li>
  
<li>
<p>Optionally, create a script at <b>/js/yui_debug/logger</b> that creates a console component every time a page is loaded. It will only execute in debug mode, so that you get all needed logging messages. You can name it anyway you want, just copy the following code into it:</p>
  
<div class="source">
<pre>        function createLogPanel() {
                var myLogReader = new YAHOO.widget.LogReader();
        }

        YAHOO.util.Event.addListener(window, &quot;load&quot;, createLogPanel);
</pre></div></li>
</ul>

<ul>
  
<li>Copy the build/assets dir to the <b>/css</b> dir in your app. It contains the default YUI skin to style the widgets.</li>
</ul>
<p>Now that you have all files in place, you need to specify ordering. Create a <b>.sorting</b> file at <b>/js/yui</b>, with the following content:</p>

<div class="source">
<pre>        yahoo-min.js
        dom-min.js
        event-min.js
        dragdrop-min.js
        element-beta-min.js
</pre></div>
<p>If you add more widgets you might have to add more lines to the sorting file to force the loading order of dependencies. For most cases, yahoo, dom and event will be required to load first. &#xa0;</p>
<p>For the debug bundle, you will need a similar sorting file, only changing the filenames to add the -debug suffix:</p>

<div class="source">
<pre>        yahoo-debug.js
        dom-debug.js
        event-debug.js
        dragdrop-debug.js
        element-beta-debug.js
</pre></div>
<p>If you created the optional script at <b>/js/yui_debug/logger</b> to launch the console on page load, you need a .sorting file at this directory to force logger.js to load first. Just type &#x2018;logger.js&#x2019; in it and you are ready to go. &#xa0;</p>
<p>Another thing to keep in mind is that you will need to include the copyright notice you removed from the minified scripts. To do this, you will have to create a <b>.license</b> file at <b>/js/yui</b>. Simply create the file, open any of the script files from YUI and copy and paste the copyright notice at the top. For CSS files you need to do likewise, just create a .license file at /css/assets and copy the same text. &#xa0;</p>
<p>Now you are ready to create the bundles in the Jawr descriptor. Since the YUI libraries will normally be used for most pages in a site, they are defined as global. First thing to do is declare a CSS bundle for the required assets:</p>

<div class="source">
<pre>        jawr.css.bundle.yui.id=/bundles/yui.css
        jawr.css.bundle.yui.mappings=/css/assets/**
        jawr.css.bundle.yui.global=true
</pre></div>
<p>Then we create two bundles, one for production mode and another for development mode. To do this we use the <b>.debugnever</b> and <b>.debugonly</b> parameters. Also, for the production bundle we specify a postprocessor which will include the license notice but will not minify the bundle since we are using the pre-minified YUI scripts:</p>

<div class="source">
<pre>        # Define the production yui library
        jawr.js.bundle.yui.id=/bundles/yui.js
        jawr.js.bundle.yui.mappings=/js/yui/**
        jawr.js.bundle.yui.global=true

        # Never import this bundle in debug mode
        jawr.js.bundle.yui.debugnever=true

        # No minification for this bundle, only include the license
        jawr.js.bundle.yui.bundlepostprocessors=license

        # Define the debug mode yui library     
        jawr.js.bundle.yuidebug.id=/bundles/yui-debug.js
        jawr.js.bundle.yuidebug.mappings=/js/yui_debug/**
        jawr.js.bundle.yuidebug.global=true

        # Only import this bundle in debug mode
        jawr.js.bundle.yuidebug.debugonly=true
</pre></div>
<p>Now we are ready to start using YUI in our application. We can try to reproduce the example script found at /examples/container/panel.html in the YUI distribution. First, we create a script which will launch the example at /js/index.js, with the following content:</p>

<div class="source">
<pre>YAHOO.namespace(&quot;example.container&quot;);

function init() {
 // Instantiate a Panel from markup
 YAHOO.example.container.panel1 = new YAHOO.widget.Panel(&quot;panel1&quot;, 
                                                        { width:&quot;320px&quot;, 
                                                        visible:false, 
                                                        constraintoviewport:true } );
 YAHOO.example.container.panel1.render(); 

 // Instantiate a Panel from script
 YAHOO.example.container.panel2 = new YAHOO.widget.Panel(&quot;panel2&quot;,
                                                         { width:&quot;320px&quot;, 
                                                         visible:false, 
                                                         draggable:false, 
                                                         close:false } );

 YAHOO.example.container.panel2.setHeader(&quot;Panel #2 from Script &amp;mdash; This Panel Isn't Draggable&quot;);
 YAHOO.example.container.panel2.setBody(&quot;This is a dynamically generated Panel.&quot;);
 YAHOO.example.container.panel2.setFooter(&quot;End of Panel #2&quot;);
 YAHOO.example.container.panel2.render(&quot;container&quot;);

 YAHOO.util.Event.addListener(&quot;show1&quot;, 
                              &quot;click&quot;, 
                              YAHOO.example.container.panel1.show, 
                              YAHOO.example.container.panel1, 
                              true);
 YAHOO.util.Event.addListener(&quot;hide1&quot;, 
                              &quot;click&quot;, 
                              YAHOO.example.container.panel1.hide, 
                              YAHOO.example.container.panel1, true); 

 YAHOO.util.Event.addListener(&quot;show2&quot;, 
                              &quot;click&quot;, 
                              YAHOO.example.container.panel2.show, 
                              YAHOO.example.container.panel2, 
                              true);
 YAHOO.util.Event.addListener(&quot;hide2&quot;, 
                              &quot;click&quot;, 
                              YAHOO.example.container.panel2.hide, 
                              YAHOO.example.container.panel2, 
                              true);
}

YAHOO.util.Event.addListener(window, &quot;load&quot;, init);
</pre></div>
<p>This script will setup an onload event for any page that loads it. The final thing we need is the test JSP. Create an index.jsp with the following contents:</p>

<div class="source">
<pre>&lt;%@ taglib uri=&quot;http://jawr.net/tags&quot; prefix=&quot;jwr&quot; %&gt;
&lt;%@ page contentType=&quot;text/html;charset=UTF-8&quot; %&gt;
&lt;html&gt;

&lt;head&gt;
&lt;jwr:style src=&quot;/bundles/yui.css&quot;/&gt;
&lt;jwr:script src=&quot;/bundles/yui.js&quot;/&gt; 
&lt;jwr:script src=&quot;/js/index.js&quot;/&gt; 
&lt;/head&gt;
&lt;body class=&quot;yui-skin-sam&quot;&gt;

&lt;!--BEGIN SOURCE CODE FOR EXAMPLE =============================== --&gt;
&lt;style&gt;
 #container {height:15em;}
&lt;/style&gt;

&lt;div id=&quot;container&quot;&gt;
        &lt;div&gt;
                &lt;button id=&quot;show1&quot;&gt;Show panel1&lt;/button&gt; 
                &lt;button id=&quot;hide1&quot;&gt;Hide panel1&lt;/button&gt;
        &lt;/div&gt;

        &lt;div id=&quot;panel1&quot;&gt;
                &lt;div class=&quot;hd&quot;&gt;Panel #1 from Markup &amp;mdash; This Panel is Draggable&lt;/div&gt;
                &lt;div class=&quot;bd&quot;&gt;This is a Panel that was marked up in the document.&lt;/div&gt;
                &lt;div class=&quot;ft&quot;&gt;End of Panel #1&lt;/div&gt;
        &lt;/div&gt;

        &lt;div&gt;
                &lt;button id=&quot;show2&quot;&gt;Show panel2&lt;/button&gt; 
                &lt;button id=&quot;hide2&quot;&gt;Hide panel2&lt;/button&gt;
        &lt;/div&gt;
&lt;/div&gt;  
&lt;!--END SOURCE CODE FOR EXAMPLE =============================== --&gt;             
&lt;/body&gt;
&lt;/html&gt;
</pre></div>
<p>Without going into details of how YUI works, opening this page should show a couple buttons which, when pressed, will display a YUI panel widget. You may notice how we imported only the js/index.js script. Since the YUI bundles are global, we don&#x2019;t need to explicitly import them. Give it a try and start Jawr in production and debug modes to see the difference. Be aware that in debug mode, the console logger might slow your page down a lot unless you remove messages from several components or set the logging lever to error. &#xa0;</p>
<p>With this setup, you can easily add more YUI components as you go, all of which will be joined into a bundle. You may also split YUI into several bundles to better fit the usage pattern for your site. Also, you get a debug mode in which you get a console to log to as needed.</p></div></div>
                  </div>
            </div>
          </div>

    <hr/>

    <footer>
            <div class="container-fluid">
                      <div class="row-fluid">
                              <p >Copyright &copy;                   2016.
          All rights reserved.      
                    
      </p>
        </div>

        
        
                </div>
    </footer>
        </body>
</html>
